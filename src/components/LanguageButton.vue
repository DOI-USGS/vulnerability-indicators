<template>
    <div class="button-container" >
        <i>Read in 
      <button @click="switchLanguage('en')">English</button>
      Leer en 
      <button @click="switchLanguage('es')">Espa√±ol</button>
        </i>
    </div>
  </template>
  
  <script setup>
  import { useI18n } from 'vue-i18n';
  import { useRouter, useRoute } from 'vue-router';
  
  const { locale } = useI18n();
  const router = useRouter();
  const route = useRoute();
  
  function switchLanguage(lang) {
    locale.value = lang;
    
    // Update the URL with language ending
    router.push({
      path: `/${lang}${route.path.substring(3) || ''}` // Preserve the existing path, only change the language
    });
  }
  </script>

<style scoped lang="scss">
button {
    color: black;
    padding: 2px 5px;
    border-radius: 10px;
    white-space: nowrap;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.1s;
}
.button-container {
    padding: 5px;
}
p {

}
</style>
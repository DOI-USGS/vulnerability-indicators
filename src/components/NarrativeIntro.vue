<template>
    <header id="grid-container">
      <div 
        id="title-container"
        :class="{ mobile: mobileView}"
        class="flex-container"
      >
        <div class="narrative-text-container">
          <div id="narrative-text-par1" class="narrative-text-par">
            <p style="font-size: 26px; text-align: left; margin-left: 80px">
              Imagine you live in a big house in the suburbs where clean water flows out of every faucet. There’s enough water for you and your family to grow a nice garden every year. The public water supplier treats the water and maintains the distribution system regularly, so you know the water is safe for you to drink. A small, clean stream flows through town, offering a cool place to swim and play during the hot summer months.
            </p>
          </div>

          <div id="narrative-text-par2">
            <p style="font-size: 26px; margin-top: 40px; text-align: left; margin-left: 80px;">
              Now imagine you live in a small rural community on the outskirts of town. You have your own well, but in recent years, you and your neighbors have had to dig deeper and deeper to reach water. Dangerous metals are leaching into the water belowground, but you have no way of treating your water before your family drinks it. Because of an ongoing drought, the sparse vegetation surrounding your house has turned a crispy brown. A nearby pond shrinks each summer and acquires a ghastly green hue as it’s choked by harmful algae blooms. 
            </p>
          </div>

          <div id="narrative-text-par3">
            <p style="font-size: 26px; margin-top: 40px; text-align: left; margin-left: 80px; margin-right: -560px">
                This nightmarish scene may sound like the backdrop of a post-apocalyptic movie, but this nightmare is the unfortunate reality for many Americans. More than 2.2 million Americans lack running water and basic plumbing in their homes (<a href="https://www.digdeep.org/draining" style="color: blue; text-decoration: underline;" target="_blank">DigDeep 2022</a>), and millions more experience other elements of water insecurity, or insufficient access to clean water for livelihoods, development, and human and ecosystem health.
              </p>
          </div>

          <div id="narrative-text-par4">
            <p style="font-size: 26px; margin-top: 40px; text-align: left; margin-left: 80px; margin-right: -560px">
                Though everyone needs and deserves sufficient access to clean water, some people are more likely to experience water insecurity than others. Certain social factors, like demographic characteristics, living conditions, socioeconomic status, and exposure to stressors like drought or pollution, have strong influences on access to clean water. These factors are called “dimensions of social vulnerability to water insecurity,” and some closely related aspects, or determinants, of these dimensions, like age, family structure, and ethnicity, are better understood than others.               
             </p>
          </div>

          <div id="narrative-text-par5">
            <p style="font-size: 26px; margin-top: 40px; text-align: left; margin-left: 80px; margin-right: -560px">
                How much do we know about the influence of these social determinants on water insecurity? Which determinants do we understand well, and which do we need to understand better? Thanks to recent work by a team of researchers at the U.S. Geological Survey (USGS), we can begin answering these questions, taking us one step closer to equitable water access for all. 
            </p>
          </div>
          
        </div>
        <div class="image-container-right-col">
            <img
            id="water-security"
            :class="{ mobile: mobileView}"
            src="@/assets/images/water_security.png"
            alt="Water security"
          >
        </div>
        <div class="image-container-left-col">
          <img
            id="water-insecurity"
            :class="{ mobile: mobileView}"
            src="@/assets/images/water_insecurity.png"
            alt="Water insecurity"
          >
        </div>
      </div>
      <div 
        id="intro-container"
        :class="{ mobile: mobileView}"
      > 
      </div>
    </header>
  </template>
  
  <script>
  import { isMobile } from 'mobile-device-detect';
  
  export default {
    name: "NarrativeIntro",
    components: {
    },
    props: {
      data: Object
    },
    data() {
      return {
        publicPath: import.meta.env.BASE_URL, // find the files when on different deployment roots
        mobileView: isMobile, // test for mobile
      }
    },
    mounted(){      
      const self = this; 
    }
  }
  </script>
  
  <style lang="scss" scoped>
  #grid-container {
    display: grid;
    padding: 20px 0 20px 0;
    gap: 5px;
    grid-template-rows: max-content;
    justify-content: center;
    margin: auto;
    max-width: 90vw;
    min-width: 90vw;
  }
  
  #title-container {
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
    width: 100%;
  }
  
  .image-container-right-col {
    display: flex;
    flex-direction: column; /* Adjust to horizontal layout */
  }

  .image-container-left-col {
    display: flex;
    flex-direction: column; /* Adjust to horizontal layout */
  }


  #water-security {
    max-width: 340px;
    margin-top: -20px;
    margin-left: 120px;
    margin-right: 140px
  }
  
  #water-insecurity {
    max-width: 340px;
    margin-top: 220px;
    margin-left: -480px;
    margin-right: 120px
  }
  
  #water-security.mobile, #water-insecurity.mobile {
    width: 100%;
  }
  
  .narrative-text-container {
  }
  
  .narrative-text-par {
  }
  
  #intro-container {
    padding: 5px 0px 0px 5px;
  }

  /* Override flex layout for narrative-text-par3 */
  #narrative-text-par3 {
    display: block;
  }
  
  @media screen and (max-width: 600px) {
    #title-container {
      flex-direction: column;
      align-items: center;
    }
  
    #water-security, #water-insecurity {
      max-width: 100%;
      margin-bottom: 10px;
      margin-right: 0; /* Reset right margin on mobile */
    }
  }
  </style>
